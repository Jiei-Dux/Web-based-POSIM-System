<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title> Home | Meogeo Sarang Korean Mart </title>

    <!-- Favicon -->
    <link rel="icon" type="image/png" sizes="16x16" href="../Assets/MSKM_Tab_Logo-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="../Assets/MSKM_Tab_Logo-32x32.png">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../css/Bootstrap CSS/bootstrap.min.css">

    <!-- CSS -->
    <link rel="stylesheet" href="../css/main.css">
    <link rel="stylesheet" href="../css/Home.css">

    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body class="Main">
    <!-- Header -->
    <header class="header">
        <div class="container-fluid">
            <div class="row align-items-center">
                <div class="col-1 logo">
                    <a href="../html/Home.html">
                        <img src="../Assets/MSKM_Logo.png" width="120" height="120">
                    </a>
                    <span class="logo_tooltip_text" id="tooltip"></span>
                </div>
                <div class="col-10">
                    <div class="d-flex justify-content-between align-items-center">
                        <div class="searchbar flex-grow-1 mr-3">
                            <input type="text" placeholder="Search for Products..." class="form-control">
                            <button type="submit" class="searchbar_button btn btn-link ml-2"></button>
                        </div>
                        <div>
                            <a href="#" class="btn btn-link mr-2">
                                <img src="../Assets/CONNECTION.png" alt="Connection" width="30" height="30">
                            </a>
                            <a href="#" class="btn btn-link">
                                <img src="../Assets/REFRESH_CONNECTION.png" alt="Refresh Connection" width="30"
                                    height="30">
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- Divider -->
    <div class="divider"></div>

    <!-- Main Content -->
    <div class="content container-fluid">
        <div class="row h-100">

            <!-- Navbar Column -->
            <div class="col-1 p-0">
                <div class="navbar-vertical nav nav-pills flex-column align-items-center justify-content-center h-100">
                    <a class="nav-link text-center active" href="#">
                        <img src="../Assets/HOME.png" class="buttonIcons d-block mx-auto">
                        <span class="beauty">HOME</span>
                    </a>
                    <a class="nav-link text-center" href="#">
                        <img src="../Assets/STOCKS.png" class="buttonIcons d-block mx-auto">
                        <span class="beauty">STOCKS</span>
                    </a>
                    <a class="nav-link text-center" href="#">
                        <img src="../Assets/REPORTS.png" class="buttonIcons d-block mx-auto">
                        <span class="beauty">REPORTS</span>
                    </a>
                    <a class="nav-link text-center" href="#">
                        <img src="../Assets/SETTINGS.png" class="buttonIcons d-block mx-auto">
                        <span class="beauty">SETTINGS</span>
                    </a>
                    <div class="navbarLogo_User">
                        <a class="nav-link" href="#">
                            <img src="../Assets/USER.png" class="buttonIcons">
                        </a>
                        <span class="logo_tooltip_text" id="tooltipUser"></span>
                    </div>
                    <div class="navbarLogo_Logout">
                        <a class="nav-link" href="#">
                            <img src="../Assets/LOGOUT.png" class="buttonIcons">
                        </a>
                        <span class="logo_tooltip_text" id="tooltipLogout"></span>
                    </div>

                    <!-- Logout Confirmation Popup -->
                    <div id="logout-popup" class="logout-popup">
                        <div class="logout-popup-content">
                            <p>Are you sure you want to log out?</p>
                            <button id="confirm-logout" class="popup-button">Logout</button>
                            <button id="cancel-logout" class="popup-button">Cancel</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Products Column -->
            <div class="col-6 products-column">
                <div class="horizontal-navbar nav nav-pills mb-3">
                    <!-- Drinks Category with Dropdown -->
                    <div class="btn-group">
                        <button type="button" class="nav-link active category-btn"
                            data-category="DRINKS">Drinks</button>
                        <button type="button" class="btn dropdown-toggle dropdown-toggle-split dropdownBTN"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            <span class="visually-hidden">Toggle Dropdown</span>
                        </button>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item subcategory-btn" data-subCategory="COFFEE"
                                    data-maincategory="DRINKS">Coffee</a>
                            </li>
                            <li><a class="dropdown-item subcategory-btn" data-subCategory="LIQOUR"
                                    data-maincategory="DRINKS">Liqour</a>
                            </li>
                            <li><a class="dropdown-item subcategory-btn" data-subCategory="SOJU"
                                    data-maincategory="DRINKS">Soju</a>
                            </li>
                            <li><a class="dropdown-item subcategory-btn" data-subCategory="TEA"
                                    data-maincategory="DRINKS">Tea</a>
                            </li>
                        </ul>
                    </div>

                    <!-- Food Category with Dropdown -->
                    <div class="btn-group">
                        <button type="button" class="nav-link category-btn" data-category="FOOD">Foods</button>
                        <button type="button" class="btn dropdown-toggle dropdown-toggle-split dropdownBTN"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            <span class="visually-hidden">Toggle Dropdown</span>
                        </button>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item subcategory-btn" data-subCategory="ICE CREAM"
                                    data-maincategory="FOOD">Ice Cream</a>
                            </li>
                            <li><a class="dropdown-item subcategory-btn" data-subCategory="BISCUIT"
                                    data-maincategory="FOOD">Biscuits</a>
                            </li>
                            <li><a class="dropdown-item subcategory-btn" data-subCategory="NOODLES"
                                    data-maincategory="FOOD">Noodles</a>
                            </li>
                        </ul>
                    </div>

                    <!-- Wholesale Category -->
                    <!-- <a class="nav-link" data-category="WHOLESALE">Wholesale</a> -->

                    <!-- Others Category with Dropdown -->
                    <div class="btn-group">
                        <button type="button" class="nav-link category-btn" data-category="OTHERS">Others</button>
                        <button type="button" class="btn dropdown-toggle dropdown-toggle-split dropdownBTN"
                            data-bs-toggle="dropdown" aria-expanded="false">
                            <span class="visually-hidden">Toggle Dropdown</span>
                        </button>
                        <ul class="dropdown-menu">
                            <li><a class="dropdown-item subcategory-btn" data-subCategory="BUTANE"
                                    data-maincategory="OTHERS">Butane</a>
                            </li>
                            <li><a class="dropdown-item subcategory-btn" data-subCategory="PASTE"
                                    data-maincategory="OTHERS">Paste</a>
                            </li>
                            <li><a class="dropdown-item subcategory-btn" data-subCategory="SESAME OIL"
                                    data-maincategory="OTHERS">Sesame Oil</a>
                            </li>
                            <li><a class="dropdown-item subcategory-btn" data-subCategory="JAM"
                                    data-maincategory="OTHERS">Jam</a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div id="productsContainer"></div>
            </div>

            <!-- Shopping Cart Column -->
            <div class="col-5 cart-column">
                <div class="d-flex justify-content-between">
                    <h4 class="Cart">Cart</h4>
                    <a class="delete-button" onclick="clearCart()">
                        <img src="../Assets/DELETE.png">
                    </a>
                </div>
                <div class="cart-container" id="cartItems"></div>
                <div class="mt-3">
                    <strong>Total: PHP <span id="cartTotal">0.00</span></strong>
                </div>
                <div class="button-container mt-3 btnfontSize">
                    <button class="btn btn-secondary w-50 mr-2">Pay Later</button>
                    <button class="btn btn-primary w-50" onclick="showPaymentPopup()">Proceed to Payment</button>
                </div>
            </div>

            <!-- Payment Popup -->
            <div id="payment-popup" class="payment-popup">
                <div class="payment-popup-content">
                    <h4>Select Payment Method</h4>
                    <button id="cashButton" class="popup-button" onclick="handleCashPayment()">Cash</button>
                    <button id="gcashButton" class="popup-button" onclick="handleGCashPayment()">GCash</button>
                    <button id="closePopup" class="popup-button" onclick="closePaymentPopup()">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScripts -->
    <script src="../js/Bootstrap JS/bootstrap.bundle.min.js"></script>
    <script src="../js/Database.js"></script>
    <script src="../js/Home.js"></script>
</body>

</html>